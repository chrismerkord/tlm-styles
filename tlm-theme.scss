/*
  tlm-theme.scss
  -----------------------------------------------------------------------------
  Shared Quarto theme SCSS for Teaching & Learning Materials (TLM).

  How this file is used (course repo _quarto.yml):
    brand: tlm-styles/_brand.yml
    format:
      html:
        theme: [default, tlm-styles/tlm-theme.scss, styles.scss]

  Quarto/Sass constraints:
  - Do not use @use / @import in this file. Quarto concatenates theme layers,
    and Sass requires @use declarations to appear before any rules.
  - Keep tokens, mixins, and rules separated using Quarto's SCSS regions so
    theme layers merge safely across brand + course overrides.
*/

/*-- scss:defaults --*/
// -----------------------------------------------------------------------------
// Design tokens used across website, handouts, and Reveal.js slides.
// Keep these as shared defaults; course-specific overrides belong in the
// course repo's styles.scss.
// -----------------------------------------------------------------------------
// Colors
$title-color: #00285f !default;           // Dark Blue (primary title color)
$heading1-color: #00285f !default;        // Dark Blue (H1)
$heading2-color: #000000 !default;        // Black (H2)
$heading3-color: #5F3700 !default;        // Dark Earth Brown (H3)
$text-color: #000000 !default;            // Black (body text)
$accent-color: #003366 !default;          // Dark Blue (links)
$header-footer-color: #AAAAAA !default;   // Light Gray (footer text)

// Fonts (Adobe Fonts should provide these families by name)
$font-body: 'Source Sans Pro', sans-serif !default;
$font-heading: 'Acumin Pro Condensed', sans-serif !default;
$font-title: 'Acumin Pro SemiCondensed Bold', sans-serif !default;

// Spacing / typography scale
$base-margin: 1in !default;
$line-height: 1.5 !default;

/*-- scss:mixins --*/
// -----------------------------------------------------------------------------
// Mixins centralize common typographic patterns. Use these in rules below to
// keep styles consistent across outputs.
// -----------------------------------------------------------------------------
// Text styling helper (body, captions, etc.)
@mixin text-style($font-family, $font-size, $color, $lh: normal) {
  font-family: $font-family;
  font-size: $font-size;
  color: $color;
  line-height: $lh;
}

// Heading styling helper (size, color, optional top border)
@mixin heading-style($font-size, $color, $border-top: none) {
  font-family: $font-heading;
  font-size: $font-size;
  color: $color;
  border-top: $border-top;
  margin-top: 20px;
}

// Border helper (used for utility rules if needed later)
@mixin bordered($thickness, $color) {
  border: $thickness solid $color;
}

/*-- scss:rules --*/
// -----------------------------------------------------------------------------
// Global base rules for Quarto HTML outputs + Reveal.js.
// Keep rules output-agnostic unless a format-specific override is required.
// -----------------------------------------------------------------------------

/* Global body text (website + docs) */
html, body {
  @include text-style($font-body, 1rem, $text-color, $line-height);
}

/* Quarto site content tends to live under these containers */
.quarto-title-block,
.quarto-content,
.content,
main {
  font-family: $font-body;
}

/* Title utility */
.title {
  @include text-style($font-title, 24pt, $title-color);
}

/* Headings (website + docs) */
h1 {
  @include heading-style(18pt, $heading1-color, 1pt solid $heading1-color);
}

h2 { @include heading-style(14pt, $heading2-color); }

h3 { @include heading-style(12pt, $heading3-color); }

/* Links */
a {
  color: $accent-color;
  text-decoration: none;
}

a:hover { text-decoration: underline; }

/* Figure captions */
.fig-caption,
.figure-caption,
figcaption {
  @include text-style($font-body, 0.9rem, $text-color);
  font-style: italic;
}

/* Quarto navbar + footer (website) */
.navbar,
.navbar-dark,
.navbar-light {
  background-color: $heading1-color;
}

.navbar a,
.navbar a.nav-link,
.navbar .navbar-brand {
  color: #ffffff;
}

.navbar a:hover,
.navbar a.nav-link:hover,
.navbar .navbar-brand:hover {
  color: #ffffff;
  text-decoration: underline;
}

.footer,
.page-footer,
.quarto-footer {
  @include text-style($font-body, 0.85rem, $header-footer-color);
  text-align: center;
}

/* Explicit Reveal.js typography (Reveal does not reliably inherit from body) */
.reveal {
  font-family: $font-body;
  color: $text-color;
}

.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4,
.reveal h5,
.reveal h6 {
  font-family: $font-heading;
  color: $title-color;
}

/* Base slide typography adjustments */
.reveal .slides {
  font-size: var(--slide-font-size, 28px);
  line-height: 1.3;
}

/* Print (PDF export) tweaks for Reveal.js */
@media print {
  @page { size: Letter landscape; margin: 0; }
  .reveal .slides { box-shadow: none; }
}
